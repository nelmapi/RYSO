<template name="products">
    <div class="container-fluid">
        <div class="row-fluid">
            <div class="page-header">
              <h1>Productos</h1>
            </div>
            {{>productForm}}
            <br /><br />
            <table class="table table-bordered table-striped table-hover">
                <thead>
                    <tr>
                        <th>Codigo</th>
                        <th>Nombre</th>
                        <th>Tipo</th>
                        <th>Descripcion</th>
                        <th>Precio</th>
                    </tr>
                </thead>
                <tbody>
                {{#each productList}}
                    {{> productRow}}
                {{/each}}
                </tbody>
            </table>
        </div>
    </div>
</template>

<template name="productRow">
    <tr class="productRow">
        <td>{{productId}}</td>
        <td>{{name}}</td>
        <td>{{type}}</td>
        <td>{{description}}</td>
        <td>{{price}}</td>
    </tr>
</template>

<template name="productForm">
    <a class="btn btn-primary showProductFormBtn" data-toggle="modal" href='#modal-id'>Agregar Producto</a>
    <div class="modal fade" id="modal-id">
        <div class="modal-dialog">
            <div class="modal-content">
            {{#autoForm collection="Products" id="insertProductForm" doc=newEditProduct type="insert"}}
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title">Agregar Producto</h4>
                </div>
                <div class="modal-body">
                    <fieldset>
                        {{> afQuickField name='name' id='nameInput'}}
                        {{> afQuickField name='type' id='typeInput'}}
                        {{> afQuickField name='description' id='descInput'}}
                        {{> afQuickField name='price' id='priceInput'}}
                    </fieldset>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default cancelBtn" data-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-primary saveBtn">Guardar</button>
                </div>
            {{/autoForm}}
            </div>
        </div>
    </div>
</template>